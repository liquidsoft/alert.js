/*
alert.js
@version 0.1.35
@author Robert Ontiu
 */
"use strict";!function(a,b,c){return"object"!=typeof b?void console.error("alert.js requires a valid window object to work with!"):(b._alert=window.alert,b.alert=c(a,b),void("object"==typeof module?module.exports=b.alert:"function"==typeof define&&define.amd&&define(function(){return b.alert})))}(this,window,function(a,b){var c=b.jQuery,d={displayHeader:!0,closeButton:!0,close:null,title:"Alert!",skipQueue:!1,draggable:"function"==typeof c&&"object"==typeof c.ui&&"function"==typeof c.fn.draggable,position:{top:"10%",left:"center"},buttons:{Ok:function(a){a.close()}}},e=function(){this.init.apply(this,arguments)};e.prototype.init=function(a,b){this.body=a,this.element=null,this.options={};for(var c=Object.keys(d),e=0,f=c.length;e<f;e++)this.options[c[e]]="object"==typeof b&&b.hasOwnProperty(c[e])?b[c[e]]:d[c[e]]},e.prototype.close=function(){null!==this.element&&(this.element.parentElement.removeChild(this.element),this.element=null,"function"==typeof this.options.close&&this.options.close(this),this.options.draggable&&c(this.element).draggable("destroy"),e.gc(this))},e.prototype.render=function(){var a=this,d=null,e=b.document.createElement("div");if(e.className="alert-dialog",this.options.displayHeader){var f=b.document.createElement("div");f.className="alert-header",e.appendChild(f);var g=b.document.createElement("span");if(g.className="alert-title",g.appendChild(b.document.createTextNode(this.options.title)),f.appendChild(g),this.options.closeButton){var h=b.document.createElement("a");h.className="alert-close",h.innerText="x",f.appendChild(h),h.addEventListener("click",function(b){b.preventDefault(),a.close()})}d=b.document.createElement("div"),d.style.clear="both",f.appendChild(d)}var i=b.document.createElement("div");i.className="alert-body",e.appendChild(i),this.body instanceof HTMLElement?i.appendChild(this.body):"function"==typeof c&&this.body instanceof c?c(i).append(this.body):i.innerHTML="string"==typeof this.body?this.body:"";var j=b.document.createElement("ul");if(j.className="alert-buttons",e.appendChild(j),null!==this.options.buttons&&"object"==typeof this.options.buttons)for(var l,m,n,o=Object.keys(this.options.buttons),p=0,q=o.length;p<q;p++)l=b.document.createElement("li"),j.appendChild(l),m=b.document.createElement("a"),m.className="alert-button",m.appendChild(b.document.createTextNode(o[p])),l.appendChild(m),n=this.options.buttons[o[p]],"function"==typeof n&&!function(b){m.addEventListener("click",function(c){c.preventDefault(),b.call(this,a)})}(n);return this.element=e,this.options.draggable&&"function"==typeof c&&"object"==typeof c.ui&&"function"==typeof c.fn.draggable&&(c(this.element).draggable({containment:"parent",handle:".alert-header",stop:function(){k(a)}}),this.element.style.position="absolute"),e};var f=[];e.gc=function(a,b){if(a instanceof e)return null!==a.element?void a.close():void f.push(a);var c;return f.length>0?(c=f.shift(),c.init(a,b)):c=new e(a,b),c};var g=[],h=null,i=null,j=function(a){if(null!==i&&null!==a.element)return a.element.style.left="center"===a.options.position.left?.5*(i.offsetWidth-a.element.offsetWidth)+"px":a.options.position.left,a.element.style.top="center"===a.options.position.top?.5*(i.offsetHeight-a.element.offsetHeight)+"px":a.options.position.top,a},k=function(a){if(null!==i&&null!==a.element){var b=(a.element.offsetLeft+.5*a.element.offsetWidth)/i.offsetWidth*100,c=(a.element.offsetTop+.5*a.element.offsetHeight)/i.offsetHeight*100;return a.element.style.left="calc("+b+"% - "+.5*a.element.offsetWidth+"px)",a.element.style.top="calc("+c+"% - "+.5*a.element.offsetHeight+"px)",a}},l=function(a){var b=getComputedStyle(a);return parseInt(b.height)+parseInt(b.paddingTop)+parseInt(b.borderTopWidth)+parseInt(b.paddingBottom)+parseInt(b.borderBottomWidth)},m=function(a){if(null!==i&&null!==a.element){var b=a.element.querySelector(".alert-body"),c=Array.prototype.slice.call(a.element.children);b.style.height="";var d=l(a.element),e=d;return c.splice(c.indexOf(b),1),c.forEach(function(a){e-=l(a)}),b.style.height=e+"px",a}},n=function(a,b){if(0!==arguments.length){if(a instanceof HTMLElement||"function"==typeof c&&a instanceof c||"string"==typeof a)return"string"==typeof a&&(a=a.replace("\n","<br/>")),"object"==typeof b&&b.skipQueue?g.unshift(e.gc(a,b)):g.push(e.gc(a,b)),void(null!==i&&null===h&&n());if("object"==typeof a)for(var f=Object.keys(d),l=0,o=f.length;l<o;l++)a.hasOwnProperty(f[l])&&(d[f[l]]=a[f[l]])}else{if(null===i)return;if(null!==h&&(h.close(),h=null,i.style.display="none",document.body.style.overflow="",document.body.style.position=""),g.length>0){h=g.shift();var p=h.options.close;h.options.close=function(){"function"==typeof p&&p.apply(this,arguments),n()},document.body.style.overflow="hidden",document.body.style.position="fixed",i.style.display="block",i.appendChild(h.render()),k(j(m(h)))}}};return b.document.addEventListener("DOMContentLoaded",function(a){i=b.document.createElement("div"),i.className="alert-container",i.style.display="none",b.document.body.appendChild(i),i.addEventListener("click",function(a){a.preventDefault(),h&&a.target===i&&h.close()}),n(),b.onresize=b.document.body.onresize=function(a){null!==h&&k(j(m(h)))}}),n.configure=function(a,b){switch(a){case"jQuery":c=b}},n});